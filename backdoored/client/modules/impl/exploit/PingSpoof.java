package l.c.h.j.exploit;

import java.time.Duration;
import java.time.Instant;
import l.c.h.d.c;
import l.c.h.h.j;
import l.c.h.j.w;
import l.c.h.j.w$d;
import net.minecraft.network.play.client.CPacketKeepAlive;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;

@w$d(
   name = "Ping Spoof",
   description = "Spoof your ping retard",
   category = c.EXPLOIT
)
public class PingSpoof extends w {
   private j mq;
   private Instant mt = Instant.now();
   public static final boolean me;
   public static final int mv;
   public static final boolean mu;

   @SubscribeEvent
   public void f(l.c.u.s.c var1) {
      if (var1.packet instanceof CPacketKeepAlive && this.qm()) {
         Instant var2 = Instant.now();
         if ((float)Duration.between(this.mt, var2).getSeconds() >= (float)(Integer)this.mq.ti() / 10.0F) {
            this.mt = Instant.now();
            var1.setCanceled(false);
         }

         var1.setCanceled(true);
      }

   }
}
