package l.c.h.j.exploit;

import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.Set;
import java.util.UUID;
import l.c.h.d.c;
import l.c.h.j.w;
import l.c.h.j.w$d;
import l.c.n.h;
import l.c.u.s.g;
import net.minecraft.network.play.server.SPacketPlayerListItem;
import net.minecraft.network.play.server.SPacketPlayerListItem.Action;
import net.minecraft.network.play.server.SPacketPlayerListItem.AddPlayerData;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;

@w$d(
   name = "Vanish Detector",
   description = "Detect players in vanish",
   category = c.EXPLOIT
)
public class VanishDetector extends w {
   private final HashMap fah = new HashMap();
   public static final boolean faa;
   public static final int fag;
   public static final boolean faw;

   @SubscribeEvent
   public void u(g var1) {
      if (var1.packet instanceof SPacketPlayerListItem && this.qm()) {
         SPacketPlayerListItem var2 = (SPacketPlayerListItem)var1.packet;
         if (var2.getAction() == Action.UPDATE_LATENCY) {
            HashSet var3 = new HashSet();
            Iterator var4 = var2.getEntries().iterator();
            if (var4.hasNext()) {
               AddPlayerData var5 = (AddPlayerData)var4.next();
               if (mc.getConnection().getPlayerInfo(var5.getProfile().getId()) == null) {
                  var3.add(var5.getProfile().getId());
               }
            }

            (new Thread(this::k, "Vanish thing idk")).start();
         }
      }

   }

   public void d() {
      // $FF: Couldn't be decompiled
   }

   // $FF: synthetic method
   private void k(Set var1) {
      Iterator var2 = var1.iterator();
      if (var2.hasNext()) {
         UUID var3 = (UUID)var2.next();
         this.fah.put(var3, h.o(var3.toString()));
         throw null;
      }
   }
}
